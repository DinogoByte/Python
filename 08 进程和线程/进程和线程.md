进程和线程
-

现在的操作系统比如Mac OS X、Unix、Linux、Windows都是支持"多任务"的。 
什么叫“多任务”呢？简单地说，就是操作系统可以同时运行多个任务。

对于操作系统来说，一个任务就是一个进程（Process），比如打开一个浏览器就是启动一个浏览器进程，打开一个记事本就启动了一个记事本进程，打开两个记事本就启动了两个记事本进程，打开一个Word就启动了一个Word进程。

有些进程还不止同时干一件事，比如Word，它可以同时进行打字、拼写检查、打印等事情。在一个进程内部，要同时干多件事，就需要同时运行多个“子任务”，我们把进程内的这些“子任务”称为线程（Thread）。

总结一下就是我们使用的操作系统可以使我们同时运行多个程序（进程），也可以将一个程序分解为若干个相对独立的子任务（线程），让多个子任务并发的执行，从而缩短程序的执行时间，同时也让用户获得更好的体验。
因此在当下不管是用什么编程语言进行开发，实现让程序同时执行多个任务也就是常说的“并发编程”，应该是程序员必备技能之一。为此，我们需要先讨论两个概念，一个叫进程，一个叫线程。


由于`Python`既支持多进程又支持多线程，因此使用Python实现并发编程主要有3种方式：
- 多进程
- 多线程
- 多进程+多线程。

### 进程和线程概念（比较术语化的）
进程就是操作系统中执行的一个`程序`，操作系统以进程为单位分配存储空间，每个进程都有自己的`地址空间`、`数据栈`以及`其他用于跟踪进程执行的辅助数据`，操作系统管理所有进程的执行，为它们合理的分配资源。进程可以通过`fork`或`spawn`的方式来创建新的进程来执行其他的任务，不过新的进程也有自己独立的内存空间，因此必须通过`进程间通信机制`（IPC，Inter-Process Communication）来实现数据共享，具体的方式包括管道、信号、套接字、共享内存区等。

一个进程还可以拥有多个并发的执行线索，简单的说就是拥有多个可以获得`CPU调度的执行单元`，这就是所谓的线程。由于线程在同一个进程下，它们`可以共享相同的上下文`，因此相对于进程而言，线程间的信息共享和通信更加容易。 

当然在单核CPU系统中，真正的并发是不可能的，因为在某个时刻能够获得CPU的只有唯一的一个线程，多个线程共享了CPU的执行时间。
> 单核CPU执行方法：操作系统轮流让各个任务交替执行，任务1执行0.01秒，切换到任务2，任务2执行0.01秒，再切换到任务3，执行0.01秒……这样反复执行下去。表面上看，每个任务都是交替执行的，但是，由于CPU的执行速度实在是太快了，我们感觉就像所有任务都在同时执行一样。